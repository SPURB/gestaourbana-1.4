"use strict";var _kmls=["0_PIUs_gestao_urbana.kml","10_PIUs_gestao_urbana_10NU.kml","11_PIUs_gestao_urbana_11AC.kml","12_PIUs_gestao_urbana_12ACP.kml","13_PIUs_gestao_urbana_40CT-SaoMiguel.kml","14_PIUs_gestao_urbana_14CEAGESP.kml","15_PIUs_gestao_urbana_15CM.kml","16_PIUs_gestao_urbana_16BT.kml","17_PIUs_gestao_urbana_17CAP.kml","18_PIUs_gestao_urbana_18CL.kml","19_PIUs_gestao_urbana_19PI.kml","1_PIUs_gestao_urbana_1RB.kml","20_PIUs_gestao_urbana_20CT-AECarvalho.kml","21_PIUs_gestao_urbana_21CT-AmaralGurgel.kml","22_PIUs_gestao_urbana_22CT-Aricanduva.kml","23_PIUs_gestao_urbana_23CT-Bandeira.kml","24_PIUs_gestao_urbana_24CT-Carrao.kml","25_PIUs_gestao_urbana_25CT-CasaVerde.kml","26_PIUs_gestao_urbana_26CT-CidadeTiradentes.kml","27_PIUs_gestao_urbana_27CT-Grajau.kml","28_PIUs_gestao_urbana_28CT-Guarapiranga.kml","29_PIUs_gestao_urbana_29CT-JdAngela.kml","2_PIUs_gestao_urbana_2VL.kml","30_PIUs_gestao_urbana_30CT-JardimBritania.kml","31_PIUs_gestao_urbana_31CT-JoaoDias.kml","32_PIUs_gestao_urbana_32CT-Lapa.kml","33_PIUs_gestao_urbana_33CT-MercadoePqDPedro.kml","34_PIUs_gestao_urbana_34CT-Parelheiros.kml","35_PIUs_gestao_urbana_35CT-Penha.kml","36_PIUs_gestao_urbana_36CT-Pinheiros.kml","37_PIUs_gestao_urbana_37CT-Pirituba.kml","38_PIUs_gestao_urbana_38CT-Sacoma.kml","39_PIUs_gestao_urbana_39CT-SantoAmaro.kml","3_PIUs_gestao_urbana_3ACT.kml","41_PIUs_gestao_urbana_41CT-Sapopemba.kml","42_PIUs_gestao_urbana_42CT-Varginha.kml","43_PIUs_gestao_urbana_43CT-VilaNovaCachoeirinha.kml","4_PIUs_gestao_urbana_4NESP.kml","5_PIUs_gestao_urbana_5ACJ.kml","7_PIUs_gestao_urbana_7ANH.kml","8_PIUs_gestao_urbana_8PAC.kml","9_PIUs_gestao_urbana_9VO.kml","BASE_Limite_MSP.kml"],view=new ol.View({projection:ol.proj.get("EPSG:3857"),center:[-5195135.816167192,-2698303.8770360295],zoom:10.9,minZoom:10.9,maxZoom:19}),featureOverlay=void 0,highlight=void 0,mapa={name:"mapa",data:function(){return{featureInfo:{nome:"",etapa:"",ID:""},infoBoxStyle:{left:"0",top:"0",position:"absolute"},projeto:void 0,layers:void 0,breadcrumb:!1,center:view.getCenter(),zoom:view.getZoom()}},props:["clicked-id","data"],mounted:function(){window.addEventListener("load",function(){document.getElementsByTagName("canvas")[0].getContext("2d").globalCompositeOperation="multiply"})},computed:{myMap:function(){return new ol.Map({target:"map",layers:this.kmlLayers,loadTilesWhileAnimating:!0,view:view,controls:ol.control.defaults({attributionOptions:{collapsible:!1}}).extend([new ol.control.ScaleLine])})},kmls:function(){var n=[];_kmls.map(function(t){var a=void 0,i=t.substring(0,2),e=parseInt(i,10);"0"!=(a=Number.isNaN(e)?t.substring(0,4):e.toString())&&n.push({id:a,fileName:t})});var t=n.pop();return n.reverse().push(t),n},kmlLayers:function(){var i=this,e=[new ol.layer.Tile({source:new ol.source.BingMaps({imagerySet:"CanvasGray",culture:"pt-BR",key:"efIeX8pQ5PTC2IcEjuVT~s7zLBU5z6I20qWhPhkAy3w~AlgB9eABTaOsOC8LVDJEQhyb4ik0B0mWBpIfDgrVwNYVqgfnxOsXFN3_8XKZlP1d"})})];return this.kmls.map(function(t){var a=new ol.layer.Vector({style:i.defineStyle(t.id),source:new ol.source.Vector({url:dist_folder+"kml/"+t.fileName,format:new ol.format.KML({extractStyles:!1})}),updateWhileAnimating:!1,renderBuffer:100,renderMode:"image"});a.set("id_projeto",t.id),e.splice(1,0,a)}),e}},watch:{clickedId:function(a,t){var i=this;i.data.map(function(t){t.ID_rev==a&&(i.projeto=t,i.fitToLayer(a),i.breadcrumb=!0)})},data:function(){this.layers=this.myMap.getLayers(),this.highlightSettings();var a=this;this.myMap.on("click",function(t){a.getFeatureLayerInfo(t.pixel,t)})}},methods:{highlightSettings:function(){var e={};featureOverlay=new ol.layer.Vector({source:new ol.source.Vector,map:this.myMap,style:function(t,a){var i=t.get("NOME");return e[i]||(e[i]=new ol.style.Style({stroke:new ol.style.Stroke({color:"rgba(31, 60, 147, 0.4)",width:2}),fill:new ol.style.Fill({color:"rgba(31, 60, 147, 0.2)"})})),e[i]}})},fitToLayer:function(i){view.cancelAnimations();var e=this;"BASE"!=i?this.kmlLayers.map(function(t,a){e.layers.item(a).setOpacity(1),e.layers.item(a).get("id_projeto")==i?view.fit(e.layers.item(a).getSource().getExtent(),{duration:1500}):0<a&&e.layers.item(a).setOpacity(0)}):console.log("id_projeto inválido")},fConsultaAberta:function(a){var i=void 0;return this.data.map(function(t){t.ID_rev==a&&(i="aberta"==t.b_status||"aberta"==t.e_status_consulta_internet_minuta?"consultaAberta":"")}),i},atribuiEtapaClass:function(a){var i=void 0;return this.data.map(function(t){t.ID_rev==a&&(t.etapas_NUM<=3&&(i="proposicao"),3<t.etapas_NUM&&t.etapas_NUM<=7&&(i="andamento"),8==t.etapas_NUM&&(i="implantacao"),9==t.etapas_NUM&&(i="suspenso"),10==t.etapas_NUM&&(i="arquivado"),11==t.etapas_NUM&&(i="prospeccao"))}),i},getFeatureLayerInfo:function(t,a){var i=this.myMap.forEachFeatureAtPixel(t,function(t){return t});if(void 0!==highlight&&(featureOverlay.getSource().removeFeature(highlight),this.featureInfo.nome=null,highlight=void 0),i&&"São Paulo"!==i.get("name")&&!this.$root.isFocused){var e=a.originalEvent.clientX-document.getElementById("app").offsetParent.offsetLeft+8,n=a.originalEvent.clientY-document.getElementById("app").offsetParent.offsetTop+8;this.infoBoxStyle.left=e+"px",this.infoBoxStyle.top=n+"px";var o=this;this.data.forEach(function(t){i.get("ID")===t.ID_rev&&(o.featureInfo.nome=t.id_nome,o.featureInfo.etapa=t.a_etapa_comunicacao)}),this.featureInfo.ID=i.get("ID"),featureOverlay.getSource().addFeature(i),highlight=i}else this.$root.isFocused&&this.resetApp()},removeHighlight:function(){this.$root.isFocused=!0,this.featureInfo.nome=null,featureOverlay.getSource().removeFeature(highlight),this.featureInfo.nome=null,highlight=void 0},defineStyle:function(a){var i=void 0,t={stroke:void 0,fill:void 0};this.data.map(function(t){t.ID_rev==a&&(a,i=t.etapas_NUM)});var e=parseInt(i,10);return"BASE"==a?(t.stroke="black",t.fill="rgba(255, 255, 255, 0)"):e<=3?(t.stroke="rgba(50, 50, 50, 0)",t.fill="rgba(255, 204, 179, 1)"):3<e&&e<=7?(t.stroke="rgba(50, 50, 50, 0)",t.fill="rgba(255, 85, 0, 1)"):7<e&&e<=8?(t.stroke="rgba(50, 50, 50, 0)",t.fill="rgba(128, 43, 0, 1)"):8<e&&e<=10?(t.stroke="rgba(50, 50, 50, 0)",t.fill="rgba(220, 220, 220, 1)"):(t.stroke="rgba(255, 85, 0, .5)",t.fill="rgba(200,200,200, 0)"),new ol.style.Style({stroke:new ol.style.Stroke({color:t.stroke,width:.75}),fill:new ol.style.Fill({color:t.fill})})},setProjectId:function(t){this.removeHighlight(),this.$emit("clicked",t)},resetApp:function(){this.$root.isFocused=!1;var i=this;this.kmlLayers.map(function(t,a){i.layers.item(a).setOpacity(1)}),view.animate({center:this.center,zoom:this.zoom,duration:1500}),this.$emit("clicked",void 0),this.breadcrumb=!1,i.projeto=void 0},dlKml:function(t){if(null==t)return null==t?dist_folder+"kml/0_PIUs_gestao_urbana.kml":"";for(var a=0;a<=this.kmls.length;a++){if(this.kmls[a].id==t)return dist_folder+"kml/"+this.kmls[a].fileName}},dlShp:function(t){if(null==t)return null==t?dist_folder+"shp/0_PIUs_gestao_urbana.rar":"";for(var a=0;a<=this.kmls.length;a++){if(this.kmls[a].id==t)return dist_folder+"shp/"+this.kmls[a].fileName.slice(0,this.kmls[a].fileName.lastIndexOf("."))+".rar"}}},template:'\n\t<div id="mapa">\n\t\t<div class="title">\n\t\t\t<h3>Projetos de Intervenção Urbana</h3>\n\t\t\t<ul v-if="breadcrumb" class="mapa_breadcrumb">\n\t\t\t\t<li><a href="#todos" @click="resetApp">PIUs</a></li>\n\t\t\t\t<li>{{ projeto.a_etapa_comunicacao }}</li>\n\t\t\t\t<li>{{ projeto.id_nome }}</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div id="map" class="map">\n\t\t\t<div class="downloadBase">\n\t\t\t\t<a :href="dlKml(clickedId)" id="dlKml">\n\t\t\t\t\t<i class="material-icons">get_app</i> KML\n\t\t\t\t</a>\n\t\t\t\t<a :href="dlShp(clickedId)" id="dlShp">\n\t\t\t\t\t<i class="material-icons">get_app</i> Shapefile\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="legenda" v-if="clickedId == undefined">\n\t\t\t\t<span>Legenda</span>\n\t\t\t\t<div class="proposicao">Em proposição</div>\n\t\t\t\t<div class="andamento">Em andamento</div>\n\t\t\t\t<div class="implantacao">Implantação</div>\n\t\t\t\t<div class="suspenso">Suspenso/arquivado</div>\n\t\t\t\t<div class="prospeccao">Em prospecção</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="infoModal" class="infoModal" v-if="featureInfo.nome" v-bind:style="infoBoxStyle" @click="setProjectId(featureInfo.ID)">\n\t\t\t<a href="#" class="infoModalNome" v-bind:class="fConsultaAberta(featureInfo.ID)">{{ featureInfo.nome }}</a>\n\t\t\t<a href="#" class="infoModalEtapa" v-bind:class="atribuiEtapaClass(featureInfo.ID)">{{ featureInfo.etapa }}</a>\n\t\t</div>\n\t</div>\n\t'},sumario_linha={name:"sumario_linha",data:function(){return{clickedId:void 0}},props:["data"],updated:function(){var _=this,t=document.getElementById("linha_do_tempo"),v=[],a=(function(){for(var t=0;t<_.data.length;t++)for(var a=1;a<=8;a++){var i=null,e=null,n=null,o=null;switch(a){case 1:i=_.data[t].a_data_protocolo,e=_.data[t].a_data_envio_comunicacao,n="Em proposição dos elementos prévios",o="lt_proposicao";break;case 2:i=_.data[t].b_data_inicio,e=_.data[t].b_data_final,n="Consulta Pública Inicial",o="lt_proposicao";break;case 3:i=_.data[t].c_data_envio,e=_.data[t].c_data_devolucao_spurb,n="Avaliação SMUL",o="lt_proposicao";break;case 4:i=_.data[t].Data_inicio_4,e=_.data[t].Data_fim_4,n="Elaboração",o="lt_andamento";break;case 5:i=_.data[t].Data_inicio_5,e=_.data[t].Data_fim_5,n="Discussão pública",o="lt_andamento";break;case 6:i=_.data[t].Data_inicio_6,e=_.data[t].Data_fim_6,n="Consolidação",o="lt_andamento";break;case 7:i=_.data[t].g_data_envio_aprovacao,e=_.data[t].Data_fim_7,n="Encaminhamento Jurídico",o="lt_andamento";break;case 8:i=_.data[t].h_data_inicio,e=_.data[t].Data_fim_8,n="Implantação",o="lt_implantacao"}if(null!=i&&""!=i&&"-"!=i&&"NA"!=i){var r=new Date(864e5*Math.floor(i-25568)),s=new Date(864e5*Math.floor(e-25568)),l=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2),p=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2),d=("0"+r.getDate()).slice(-2)+"/"+("0"+(r.getMonth()+1)).slice(-2)+"/"+r.getFullYear(),c=("0"+s.getDate()).slice(-2)+"/"+("0"+(s.getMonth()+1)).slice(-2)+"/"+s.getFullYear();null!=e&&""!=e&&"-"!=e&&"NA"!=e?v.push({id:t+"_"+a,group:_.data[t].ID_rev,content:n+"<span>"+d+"–"+c+"</span>",start:l,end:p,title:n+": "+d+" – "+c,className:o}):v.push({id:t+"_"+a,type:"point",group:_.data[t].ID_rev,content:n+"<span>INÍCIO EM "+d+"</span>",start:l,title:n+": início em "+d,className:o})}}}(),new vis.DataSet(v)),i=[],e=(function(){for(var t=0;t<_.data.length;t++)null!=_.data[t].etapas_NUM&&"-"!=_.data[t].etapas_NUM&&""!=_.data[t].etapas_NUM&&1<=_.data[t].etapas_NUM&&_.data[t].etapas_NUM<=8&&i.push({id:_.data[t].ID_rev,content:_.data[t].id_nome,title:_.data[t].id_nome})}(),new Date),n=new Date(e.getFullYear()-1,e.getMonth(),e.getDate()),o=new Date(e.getFullYear(),e.getMonth()+2,e.getDate()),r={autoResize:!0,align:"left",margin:{axis:10,item:20},min:2e3,max:o,end:o,stack:!1,stackSubgroups:!1,start:n,timeAxis:{scale:"month",step:1},tooltip:{followMouse:!0},zoomMax:189341556e3,zoomMin:5184e6};new vis.Timeline(t,a,i,r)},template:'\n\t<section id="sumario_linha">\n\t\t<div id="linha_do_tempo"></div>\n\t</section>\n\t'},sumario={name:"sumario",data:function(){return{clickedId:void 0}},props:["data","hiperlinks"],components:{sumario_linha:sumario_linha},methods:{hasMembers:function(t,a,i){if(t<=i&&i<=a)return!0},setProjectId:function(t){this.clickedId=t,this.$emit("clicked",t)},fConsultaAberta:function(t){if("aberta"==t.b_status||"aberta"==t.e_status_consulta_internet_minuta||"aberta"==t.e_status_consulta_internet_caderno)return"consultaAberta"}},template:'\n\t<div id="sumario">\n\n\t\t<div class="bloco">\t\t\n\t\t\t<div class="thead">\n\t\t\t\t<div>\n\t\t\t\t\tEtapas\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tPIUs de iniciativa pública\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tPIUs de iniciativa privada\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<div class="bloco proposicao">\n\t\t\t<div class="etapa">Em proposição</div>\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">01</div> <span>Em proposição dos elementos prévios</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 1 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 1 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">02</div> <span>Consulta Pública Inicial</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 2 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 2 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">03</div> <span>Avaliação SMUL</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 3 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 3 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="bloco andamento">\n\t\t\t<div class="etapa">Em andamento</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">04</div> <span>Elaboração</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 4 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 4 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">05</div> <span>Discussão pública</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 5 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 5 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">06</div> <span>Consolidação</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 6 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 6 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">07</div> <span>Encaminhamento Jurídico</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 7 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 7 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="bloco implantacao">\n\t\t\t<div class="etapa">Implantação</div>\n\n\t\t\t<div>\n\t\t\t\t<div><div class="marcadorEtapa">08</div> <span>Implantação</span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM === \'8\' && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM === \'8\' && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="bloco suspenso">\n\t\t\t<div class="etapa">Suspenso</div>\n\n\t\t\t<div>\n\t\t\t\t<div><span></span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 9 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 9 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="bloco arquivado">\n\t\t\t<div class="etapa">Arquivado</div>\n\n\t\t\t<div>\n\t\t\t\t<div><span></span></div>\n\t\t\t\t<div class="publicos">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 10 && projeto.id_iniciativa_da_proposta==\'Pública\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div><div class="privados">\n\t\t\t\t\t<template v-for="projeto in data">\n\t\t\t\t\t\t<a href="#" @click="setProjectId(projeto.ID_rev)" v-if="projeto.etapas_NUM == 10 && projeto.id_iniciativa_da_proposta==\'Privado\'" v-bind:class="fConsultaAberta(projeto)">\n\t\t\t\t\t\t\t{{ projeto.id_nome }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="bloco prospeccao">\n\t\t\t<div class="etapa">Em prospecção</div>\n\n\t\t\t<div>\n\t\t\t\t<template v-for="projeto in data" v-if="hasMembers(11,11, projeto.etapas_NUM)">\n\t\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID_etapa == 11">\n\t\t\t\t\t\t<span v-if="projeto.ID_rev == hiperlink.ID">\n\t\t\t\t\t\t\t<a :href="hiperlink.arquivo" target="_blank">{{ projeto.id_nome }}</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<sumario_linha :data=\'data\'></sumario_linha>\n\n\t</div>\n\t'},ficha={name:"ficha",data:function(){return{projeto:"",menuClickedId:"",menu:!1,E01:!1,E02:!1,E03:!1,E04:!1,E05:!1,E06:!1,E07:!1,E08:!1,agenda:[{titulo:"Audiência Pública",data:"12.08.2018",horario:"19h",local:"Estádio do Morumbi",endereco:"Praça Roberto Gomes Pedrosa, 1"},{titulo:"Renião temática - SABESP",data:"22.08.2018",horario:"15h",local:"Sede SABESP",endereco:"Rua Costa Carvalho, 300"},{titulo:"Reunião CMPU",data:"30.08.2018",horario:"09h",local:"Auditório – Ed. Martinelli",endereco:"Rua São Bento, 405"},{titulo:"Workshop temático",data:"06.09.2018",horario:"09h",local:"Parque da Aclimação",endereco:"Rua Muniz de Sousa, 1119"}]}},props:["clicked-id","data","hiperlinks"],methods:{atribuiEtapaClass:function(t){return t<=3?"proposicao":3<t&&t<=7?"andamento":8==t?"implantacao":9==t?"suspenso":10==t?"arquivado":11==t?"prospeccao":void 0},atribuiEtapaTag:function(t){switch(t){case"1":return"Proposição";case"2":return"Consulta púb. inicial";case"3":return"Avaliação SMUL";case"4":return"Elaboração";case"5":return"Discussão pública";case"6":return"Consolidação";case"7":return"Enc. jurídico";case"8":return"Implantação";case"9":return"Suspenso";case"10":return"Arquivado";case"11":return"Em prospecção";case 1:return"Proposição";case 2:return"Consulta púb. inicial";case 3:return"Avaliação SMUL";case 4:return"Elaboração";case 5:return"Discussão pública";case 6:return"Consolidação";case 7:return"Enc. jurídico";case 8:return"Implantação";case 9:return"Suspenso";case 10:return"Arquivado";case 11:return"Em prospecção"}},dataExcelJS:function(t){if(null!=t&&"-"!=t&&"NA"!=t){if(5==t.length){var a=new Date(864e5*Math.floor(t-25568));return("0"+a.getDate()).slice(-2)+"/"+("0"+(a.getMonth()+1)).slice(-2)+"/"+a.getFullYear()}return 5<t.replace("/","").length&&t.replace("/","").length<=8?t:""}},encontraProjeto:function(a){this.data.map(function(t){t.id==a&&(this.projeto=t)}),this.hiperlinks.map(function(t){t.ID==a&&this.proj})},enviaId:function(t){this.$emit("clicked",this.menuClickedId)},gravaId:function(t){this.menuClickedId=t,this.enviaId()},atribuiEstado:function(t){var a=this.projeto.etapas_NUM;return a<t||8<a?"posterior":a==t?"atual":t<a?"anterior":void 0},ext:function(t){var a=t.substring(t.lastIndexOf(".")+1,t.length).replace("/","");return 4<a.length||a.length<=2?"url":2<a.length||a.length<=4?a:void 0},abreTramitacao:function(t){var a=t.etapas_NUM;1==a&&(this.E01=!0,this.E02=!1,this.E03=!1,this.E04=!1,this.E05=!1,this.E06=!1,this.E07=!1,this.E08=!1),2==a&&(this.E02=!0,this.E01=!1,this.E03=!1,this.E04=!1,this.E05=!1,this.E06=!1,this.E07=!1,this.E08=!1),3==a&&(this.E03=!0,this.E01=!1,this.E02=!1,this.E04=!1,this.E05=!1,this.E06=!1,this.E07=!1,this.E08=!1),4==a&&(this.E04=!0,this.E01=!1,this.E02=!1,this.E03=!1,this.E05=!1,this.E06=!1,this.E07=!1,this.E08=!1),5==a&&(this.E05=!0,this.E01=!1,this.E02=!1,this.E03=!1,this.E04=!1,this.E06=!1,this.E07=!1,this.E08=!1),6==a&&(this.E06=!0,this.E01=!1,this.E02=!1,this.E03=!1,this.E04=!1,this.E05=!1,this.E07=!1,this.E08=!1),7==a&&(this.E07=!0,this.E01=!1,this.E02=!1,this.E03=!1,this.E04=!1,this.E05=!1,this.E06=!1,this.E08=!1),8==a&&(this.E08=!0,this.E01=!1,this.E02=!1,this.E03=!1,this.E04=!1,this.E05=!1,this.E06=!1,this.E07=!1)},fConsultaAberta:function(t){if("aberta"==t.b_status||"aberta"==t.e_status_consulta_internet_minuta||"aberta"==t.e_status_consulta_internet_caderno)return"consultaAberta"},arquivosDiscussao:function(t,a){for(var i="",e=0;e<this.hiperlinks.length;e++)if(this.hiperlinks[e].ID==this.projeto.ID_rev&&this.hiperlinks[e].ID_etapa==t&&this.hiperlinks[e].Idp==a)switch(a){case 1:i="Consulta Instâncias";break;case 2:i="Consulta Caderno";break;case 3:i="Consulta Minuta";break;case 4:i="Audiência Pública";break;case 5:i="Reuniões Bilaterais";break;case 6:i="Outras";break;case 7:i="Projeto Final";break;default:i=""}return i},testeVazio:function(t){return null!=t&&null!=t&&"-"!=t&&""!=t&&"NA"!=t},testeLink:function(t){return null!=t&&null!=t&&"-"!=t&&""!=t&&0===t.indexOf("http")},numberToReal:function(t){return(t=t.toFixed(2).split("."))[0]="R$ "+t[0].split(/(?=(?:...)*$)/).join("."),t.join(",")},filtroMenu:function(t){return 0<t.etapas_NUM&&t.etapas_NUM<=10}},watch:{clickedId:function(a,t){var i=this;i.data.map(function(t){t.ID_rev==a&&(i.projeto=t,i.abreTramitacao(t))})}},template:'\n\t<div id="ficha" lang="pt-br">\n\n\t\t<div @click="menu=!menu" class="menu-titulo" id="menuTitulo">\n\t\t\t<div class="titulo" v-bind:class="atribuiEtapaClass(projeto.etapas_NUM)">\n\t\t\t\t<span v-bind:class="fConsultaAberta(this.projeto)">{{ projeto.id_nome }}</span>\n\t\t\t\t<i class="material-icons" v-if="!menu">expand_more</i>\n\t\t\t\t<i class="material-icons" v-if="menu">expand_less</i>\n\t\t\t</div>\n\t\t\t<transition name="menuSlide">\n\t\t\t\t<ul class="menu" v-if="menu">\n\t\t\t\t\t<li v-for="projeto in data.filter(filtroMenu).sort(function(a,b){return a.etapas_NUM - b.etapas_NUM})" \n\t\t\t\t\tv-bind:class="atribuiEtapaClass(projeto.etapas_NUM)" \n\t\t\t\t\t:key="projeto.ID_rev">\n\t\t\t\t\t\t<a v-bind:class="fConsultaAberta(projeto)" @click="gravaId(projeto.ID_rev)">{{ projeto.id_nome }}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</transition>\n\t\t</div>\n\n\t\t<div class="container">\n\t\t\t<div class="colId">\n\t\t\t\t<div class="indicador" v-bind:class="atribuiEtapaClass(projeto.etapas_NUM)" title="Etapa atual da tramitação do PIU">{{ atribuiEtapaTag(projeto.etapas_NUM) }}</div>\n\t\t\t\t<div class="id">\n\t\t\t\t\t<template v-if="testeVazio(projeto.id_iniciativa_da_proposta) != false">\n\t\t\t\t\t\tNatureza da proposta\n\t\t\t\t\t\t<div>{{projeto.id_iniciativa_da_proposta}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="testeVazio(projeto.id_proponente) != false">\n\t\t\t\t\t\tProponente\n\t\t\t\t\t\t<div>{{projeto.id_proponente}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="testeVazio(projeto.id_origem) != false">\n\t\t\t\t\t\tOrigem\n\t\t\t\t\t\t<div>{{projeto.id_origem}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if="testeVazio(projeto.id_registro_administrativo) != false">\n\t\t\t\t\t\tRegistro administrativo\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID == clickedId">\n\t\t\t\t\t\t\t\t\t<a v-if="hiperlink.ID_etapa == 200 || hiperlink.ID_etapa == 250" :href="hiperlink.arquivo" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }} <i class="material-icons">launch</i></a>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 100 && testeVazio(hiperlink.arquivo) != false">\n\t\t\t\t\t<a class="link_pag_completa" :href="hiperlink.arquivo" :title="\'Acesse a página completa de \'+hiperlink.PIU" target="_blank">\n\t\t\t\t\t\tPágina completa <i class="material-icons">launch</i>\n\t\t\t\t\t</a>\n\t\t\t\t</template>\n\t\t\t\t\x3c!-- <div class="agenda">\n\t\t\t\t\t<h4>Agenda</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li v-for="evento in agenda">\n\t\t\t\t\t\t\t<h5>{{ evento.titulo }}</h5>\n\t\t\t\t\t\t\t<div><i class="material-icons">event</i> {{ evento.data }} – {{ evento.horario }}</div>\n\t\t\t\t\t\t\t<div><i class="material-icons">place</i> {{ evento.local }} ({{ evento.endereco }})</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div> --\x3e\n\t\t\t</div>\n\n\t\t\t<div class="aspectos">\n\t\t\t\t<h4>Aspectos técnico-urbanísticos</h4>\n\n\t\t\t\t<p>{{ projeto.urb_descricao_basica }}</p>\n\n\t\t\t\t<template v-if="testeVazio(projeto.urb_elemento_da_rede_de_estruturacao_urbana) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Elemento da rede de estruturação urbana</h6>\n\t\t\t\t\t\t{{ projeto.urb_elemento_da_rede_de_estruturacao_urbana }}\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-if="testeVazio(projeto.urb_area_total) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Área total</h6>\n\t\t\t\t\t\t{{ projeto.urb_area_total }} ha\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-if="testeVazio(projeto.urb_zonas_especiais) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Zonas especiais</h6>\n\t\t\t\t\t\t{{ projeto.urb_zonas_especiais }}\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-if="testeVazio(projeto.urb_justificativa_interesse_publico) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Interesse público</h6>\n\t\t\t\t\t\t{{ projeto.urb_justificativa_interesse_publico }}\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-if="testeVazio(projeto.urb_contrapartida_prevista) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Contrapartida prevista</h6>\n\t\t\t\t\t\t{{ projeto.urb_contrapartida_prevista }}\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t\x3c!-- <template v-if="testeVazio(projeto.urb_valor_contrapartida_prevista) != false && projeto.urb_valor_contrapartida_prevista != \'ND\'">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Valor da contrapartida prevista</h6>\n\t\t\t\t\t\t{{ numberToReal(parseInt(projeto.urb_valor_contrapartida_prevista)) }}\n\t\t\t\t\t</div>\n\t\t\t\t</template> --\x3e\n\t\t\t\t<template v-if="testeVazio(projeto.urb_justificativa_interesse_publico) != false">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h6>Interesse privado</h6>\n\t\t\t\t\t\t{{ projeto.urb_justificativa_interesse_publico }}\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\n\t\t\t<div class="tramitacao">\n\t\t\t\t<h4>Tramitação</h4>\n\t\t\t\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.a_data_protocolo)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.a_data_protocolo) }}—{{ dataExcelJS(projeto.a_data_envio_comunicacao) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E01=!E01" v-bind:class="atribuiEstado(1,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t\t01 <span>Proposição dos elementos prévios</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E01">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.a_data_protocolo) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>Protocolado</span> em {{ dataExcelJS(projeto.a_data_protocolo) }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 1 && testeVazio(hiperlink.arquivo) != false && testeLink(hiperlink.arquivo) != false" class="tramit_link">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.b_data_inicio)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.b_data_inicio) }}–{{ dataExcelJS(projeto.Data_fim_2) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E02=!E02" v-bind:class="atribuiEstado(2,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t02 <span>Consulta pública inicial</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E02">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.b_status) != false">\n\t\t\t\t\t\t\t\t<p v-if="projeto.b_status == \'aberta\'">\n\t\t\t\t\t\t\t\t\tConsulta <span>aberta</span> ({{ dataExcelJS(projeto.b_data_inicio) }}—{{ dataExcelJS(projeto.b_data_final) }})<br>\n\t\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 2 && hiperlink.Idp == 50">\n\t\t\t\t\t\t\t\t\t\t<a class="linkConsulta" :href="hiperlink.arquivo" title="Participe da consulta pública" target="_blank">Participe da consulta pública <i class="material-icons">launch</i></a>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p v-else>\n\t\t\t\t\t\t\t\t\tConsulta <span>encerrada</span> ({{ dataExcelJS(projeto.b_data_inicio) }}—{{ dataExcelJS(projeto.b_data_final) }})\n\t\t\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.b_numero_de_contribuicoes) != false">\n\t\t\t\t\t\t\t\t\t\t<br>({{ projeto.b_numero_de_contribuicoes }} contribuições)\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,1)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 1">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,2)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 2">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,3)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 3">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,4)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 4">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,5)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 5">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,6)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 6">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(2,7)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 2 && hiperlink.Idp == 7">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.c_data_envio)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.c_data_envio) }}—{{ dataExcelJS(projeto.c_data_devolucao_spurb) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E03=!E03" v-bind:class="atribuiEstado(3,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t03 <span>Avaliação SMUL</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E03">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.c_data_envio) != false && projeto.c_data_envio != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>Enviado para SMUL</span> em {{ dataExcelJS(projeto.c_data_envio) }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.c_data_envio) != false && projeto.c_data_envio == \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tNão se aplica\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.c_data_cmpu) != false && projeto.c_data_cmpu != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>CMPU</span><br>\n\t\t\t\t\t\t\t\t\t{{ dataExcelJS(projeto.c_data_cmpu) }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 3 && testeLink(hiperlink.arquivo)">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.Data_inicio_4)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.Data_inicio_4) }}–{{ dataExcelJS(projeto.Data_fim_4) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E04=!E04" v-bind:class="atribuiEstado(4,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t04 <span>Elaboração</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E04">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.d_responsavel) != false && projeto.d_responsavel != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tResponsável<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.d_responsavel }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.d_secretarias_envolvidas) != false && projeto.d_secretarias_envolvidas != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tSecretarias envolvidas<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.d_secretarias_envolvidas }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.d_orgaos_externos_envolvidos) != false && projeto.d_orgaos_externos_envolvidos != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tÓrgãos externos envolvidos<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.d_orgaos_externos_envolvidos }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 4 && testeLink(hiperlink.arquivo)">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.Data_inicio_5)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.Data_inicio_5) }}–{{ dataExcelJS(projeto.Data_fim_5) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E05=!E05" v-bind:class="atribuiEstado(5,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t05 <span>Discussão pública</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E05">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.e_status_consulta_internet_minuta) != false && projeto.e_status_consulta_internet_minuta != \'NA\'">\n\t\t\t\t\t\t\t\t<p v-if="projeto.e_status_consulta_internet_minuta == \'aberta\'">\n\t\t\t\t\t\t\t\t\tConsulta online <span>aberta</span> ({{ dataExcelJS(projeto.e_data_inicio_consulta_minuta) }}—{{ dataExcelJS(projeto.e_data_final_consulta_minuta) }})<br>\n\t\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 5 && hiperlink.Idp == 50">\n\t\t\t\t\t\t\t\t\t\t<a class="linkConsulta" :href="hiperlink.arquivo" title="Participe da consulta pública" target="_blank">Participe da consulta pública <i class="material-icons">launch</i></a>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p v-else>\n\t\t\t\t\t\t\t\t\tConsulta online <span>encerrada</span> ({{ dataExcelJS(projeto.e_data_inicio_consulta_minuta) }}—{{ dataExcelJS(projeto.e_data_final_consulta_minuta) }})\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.e_status_consulta_internet_caderno) != false && projeto.e_status_consulta_internet_caderno != \'NA\'">\n\t\t\t\t\t\t\t\t<p v-if="projeto.e_status_consulta_internet_caderno == \'aberta\'">\n\t\t\t\t\t\t\t\t\tConsulta online <span>aberta</span> ({{ dataExcelJS(projeto.e_data_inicio_consulta_caderno) }}—{{ dataExcelJS(projeto.e_data_final_consulta_caderno) }})<br>\n\t\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 5 && hiperlink.Idp == 55">\n\t\t\t\t\t\t\t\t\t\t<a class="linkConsulta" :href="hiperlink.arquivo" title="Participe da consulta pública" target="_blank">Participe da consulta pública <i class="material-icons">launch</i></a>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p v-else>\n\t\t\t\t\t\t\t\t\tConsulta online <span>encerrada</span> ({{ dataExcelJS(projeto.e_data_inicio_consulta_caderno) }}—{{ dataExcelJS(projeto.e_data_final_consulta_caderno) }})\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.e_instancias_consultadas) != false && projeto.e_instancias_consultadas != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tInstâncias consultadas<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.e_instancias_consultadas }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.e_data_audiencia_publica) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tAudiências públicas realizadas em <span>{{ projeto.e_data_audiencia_publica }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.e_outras_atividades_participativas) != false && projeto.e_outras_atividades_participativas != \'NA\'">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tOutras atividades participativas<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.e_outras_atividades_participativas }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,1)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 1">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,2)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 2">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,3)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 3">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,4)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 4">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,5)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 5">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,6)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 6">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="arquivos" :nome="arquivosDiscussao(5,7)">\n\t\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && testeLink(hiperlink.arquivo) != false && \n\t\t\t\t\t\t\t\t\thiperlink.ID_etapa == 5 && hiperlink.Idp == 7">\n\t\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.Data_inicio_6)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.Data_inicio_6) }}–{{ dataExcelJS(projeto.Data_fim_6) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E06=!E06" v-bind:class="atribuiEstado(6,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t06 <span>Consolidação</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E06">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.f_instrumento_urbanistico_proposto) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tInstrumento urbanístico proposto<br />\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.f_instrumento_urbanistico_proposto }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.f_instrumento_juridico_necessario) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tInstrumento jurídico necessário<br />\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.f_instrumento_juridico_necessario}}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.f_instancias_consultadas) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tInstâncias consultadas<br />\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.f_instancias_consultadas }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 6 && testeLink(hiperlink.arquivo)">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.g_data_envio_aprovacao)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.g_data_envio_aprovacao) }}–{{ dataExcelJS(projeto.Data_fim_7) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E07=!E07" v-bind:class="atribuiEstado(7,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t07 <span>Encaminhamento jurídico</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E07">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.g_normativo_numero_ano) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.g_normativo_numero_ano }}</span> ({{ dataExcelJS(projeto.g_data_envio_aprovacao) }})<br/>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.g_status_aprovacao }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 7 && testeLink(hiperlink.arquivo)">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="etapa">\n\t\t\t\t\t<div v-show="testeVazio(projeto.h_data_inicio)" class="periodoEtapaTramit">\n\t\t\t\t\t\t{{ dataExcelJS(projeto.h_data_inicio) }}–{{ dataExcelJS(projeto.Data_fim_8) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div @click="E08=!E08" v-bind:class="atribuiEstado(8,projeto.etapas_NUM)" class="label">\n\t\t\t\t\t\t08 <span>Implantação</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name="tramitTransit" class="tramitTransit">\n\t\t\t\t\t\t<div v-if="E08">\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.h_registro_administrativo) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tNúmero do Processo Administrativo<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.h_registro_administrativo }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.h_interessado) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tInteressado<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.h_interessado }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.h_status_implantacao) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.h_status_implantacao }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-if="testeVazio(projeto.h_orgao_em_analise) != false">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tÓrgão em análise<br>\n\t\t\t\t\t\t\t\t\t<span>{{ projeto.h_orgao_em_analise }}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-for="hiperlink in hiperlinks">\n\t\t\t\t\t\t\t\t<p class="tramit_link" v-if="hiperlink.ID == clickedId && hiperlink.ID_etapa == 8 && testeLink(hiperlink.arquivo)">\n\t\t\t\t\t\t\t\t\t<a class="tramit_link" :href="hiperlink.arquivo" :type="ext(hiperlink.arquivo)" :title="hiperlink.nome_publico_do_arquivo" target="_blank">{{ hiperlink.nome_publico_do_arquivo }}</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t'},vm=new Vue({el:"#app",data:{projectId:void 0,isFocused:!1,display:{mapa:!0,sumario:!0,ficha:!1},monitoramento:void 0,hiperlinks:void 0},computed:{apiPath:function(){return"3000"==location.port||"8080"==location.port||"8082"==location.port||"7080"==location.port?"http://spurbsp163:7080/piu-monitoramento-backend/":"http://api.gestaourbana.prefeitura.sp.gov.br//piu-monitoramento"}},components:{mapa:mapa,sumario:sumario,ficha:ficha},created:function(){var a=this,i=new XMLHttpRequest;i.open("GET",this.apiPath,!0),i.send(),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var t=JSON.parse(i.responseText);a.monitoramento=t.monitoramento,a.hiperlinks=t.hiperlinks}}},watch:{projectId:function(t,a){null!=this.projectId?(this.display.sumario=!1,this.display.ficha=!0,this.isFocused=!0):(this.display.mapa=!0,this.display.sumario=!0,this.display.ficha=!1,this.isFocused=!1)}},methods:{receiveId:function(t){null==(this.projectId=t)&&(this.display.sumario=!0,this.display.ficha=!1,this.isFocused=!1)}}});